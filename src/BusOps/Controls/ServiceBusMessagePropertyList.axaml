<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:models="clr-namespace:BusOps.Core.Models;assembly=BusOps.Core"
             xmlns:design="clr-namespace:BusOps.Design"
             x:Name="Root"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="BusOps.Controls.ServiceBusMessagePropertyList"
             Title="Custom Properties"
             x:DataType="models:ServiceBusMessage"
             Properties="{Binding CustomProperties, Mode=OneWay}">
    
    <Design.DataContext>
        <design:DesignServiceBusMessage />
    </Design.DataContext>
        
    <Grid RowDefinitions="Auto, *">
        <TextBlock Grid.Row="0" 
                   Text="{Binding Title, ElementName=Root}" 
                   Margin="0,0,0,5"
                   />
        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding #Root.Properties}"
                  IsReadOnly="True"
                  GridLinesVisibility="Horizontal"
                  AutoGenerateColumns="False"
                  CanUserResizeColumns="True"
                  CanUserSortColumns="True"
                  BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                  >
            <DataGrid.Styles>
                <Style Selector="DataGridCell">
                    <Setter Property="FontSize" Value="12" />
                </Style>
                <Style Selector="SelectableTextBlock">
                    <Setter Property="TextWrapping" Value="WrapWithOverflow" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="Padding" Value="10, 0" />
                </Style>
                <Style Selector="DataGridColumnHeader">
                    <Setter Property="Background" Value="{DynamicResource PrimaryBackgroundColor}" />
                </Style>
            </DataGrid.Styles>
            <DataGrid.Columns>
                <DataGridTemplateColumn Header="Key" Width="1*"> 
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <SelectableTextBlock Text="{Binding Key}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Value" Width="2*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <SelectableTextBlock 
                                Text="{Binding Value}" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>
